<!DOCTYPE html><html lang="zh-TW"><head>
<meta charset="utf-8"><title>員工打卡</title></head>
<body>
姓名 <input id="name">
<select id="type">
  <option>上班</option><option>下班</option><option>出差</option>
</select>
<button onclick="punch()">打卡</button>
<pre id="debug"></pre>

<script>
const API="https://punch-api.jackey1688.workers.dev";
async function punch(){
  const pos=await new Promise((r,j)=>navigator.geolocation.getCurrentPosition(r,j));
  const p={
    name:name.value,
    type:type.value,
    lat:pos.coords.latitude,
    lng:pos.coords.longitude
  };
  debug.textContent=JSON.stringify(p,null,2);
  await fetch(API+"/api/punch",{method:"POST",headers:{'Content-Type':'application/json'},body:JSON.stringify(p)});
  alert("完成");
}
</script>
</body></html>
