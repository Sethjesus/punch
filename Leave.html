<!DOCTYPE html><html><head><meta charset="utf-8"><title>請假</title></head>
<body>
姓名 <input id="name">
日期 <input type="date" id="date">
<select id="type"><option>全天</option><option>半天</option></select>
原因 <input id="reason">
<button onclick="send()">送出</button>
<pre id="debug"></pre>

<script>
const API="https://punch-api.jackey1688.workers.dev";
async function send(){
  const p={name:name.value,date:date.value,type:type.value,reason:reason.value,time:new Date().toISOString()};
  debug.textContent=JSON.stringify(p,null,2);
  await fetch(API+"/api/leave",{method:"POST",headers:{'Content-Type':'application/json'},body:JSON.stringify(p)});
  alert("完成");
}
</script>
</body></html>
